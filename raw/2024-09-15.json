[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 6317, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785", "stars": 1511, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 72899, "username": "xubingok", "url": "https://www.v2ex.com/u/xubingok", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/8e46/807f/72899_mini.png?m=1684458443", "avatar_normal": "https://cdn.v2ex.com/avatar/8e46/807f/72899_normal.png?m=1684458443", "avatar_large": "https://cdn.v2ex.com/avatar/8e46/807f/72899_large.png?m=1684458443", "created": 1409804831, "last_modified": 1684458443}, "last_reply_by": "MarkP", "last_touched": 1726340796, "title": "第一次做全麻,居然还有点喜欢这种感觉...", "url": "https://www.v2ex.com/t/1072902", "created": 1726284353, "deleted": 0, "content": "最近胃不舒服,于是在父母的催促下去做了个胃镜,无痛的.\r\n\r\n刚开始还要做心电图,做完结果正常以后就打吊针等着,似乎是生理盐水...\r\n\r\n轮到我的时候,先让侧躺床上,鼻子查了两个管子,可能是氧气吧.\r\n刚开始还以为是那种呼吸麻醉的,吸了好几口没反应,我还在纳闷呢...\r\n\r\n### 重点来了:打吊针的针头那里是活动的,预留了个注入口,医生拿个大注射器怼上去.\r\n\r\n### 就有一种从未有过的神奇感觉从手腕流到全身,然后马上就睡着了...5s 不到...\r\n\r\n醒过来的时候,房间也换了,针头也没了.人有一点点晕,但是精神满满!\r\n\r\n后续:医生说麻醉后 24 小时不能开车,我第一次我也不知道啊,还是开车回家了,3 公里,开下来问题不大.\r\n\r\n感想:\r\n\r\n- 太神奇了,血液在身体里面流得是真快啊...\r\n- 这种情况身体算是休息状态吗?不比什么安眠药强多了...", "content_rendered": "<p>最近胃不舒服,于是在父母的催促下去做了个胃镜,无痛的.</p>\n<p>刚开始还要做心电图,做完结果正常以后就打吊针等着,似乎是生理盐水...</p>\n<p>轮到我的时候,先让侧躺床上,鼻子查了两个管子,可能是氧气吧.\n刚开始还以为是那种呼吸麻醉的,吸了好几口没反应,我还在纳闷呢...</p>\n<h3>重点来了:打吊针的针头那里是活动的,预留了个注入口,医生拿个大注射器怼上去.</h3>\n<h3>就有一种从未有过的神奇感觉从手腕流到全身,然后马上就睡着了...5s 不到...</h3>\n<p>醒过来的时候,房间也换了,针头也没了.人有一点点晕,但是精神满满!</p>\n<p>后续:医生说麻醉后 24 小时不能开车,我第一次我也不知道啊,还是开车回家了,3 公里,开下来问题不大.</p>\n<p>感想:</p>\n<ul>\n<li>太神奇了,血液在身体里面流得是真快啊...</li>\n<li>这种情况身体算是休息状态吗?不比什么安眠药强多了...</li>\n</ul>\n", "last_modified": 1726284353, "replies": 166, "id": 1072902}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/38af/8613/176_large.png?m=1644885960", "name": "car", "avatar_normal": "https://cdn.v2ex.com/navatar/38af/8613/176_normal.png?m=1644885960", "title": "汽车", "url": "https://www.v2ex.com/go/car", "topics": 2335, "footer": "", "header": "关于买车、开车及汽车文化的技术讨论", "title_alternative": "Car", "avatar_mini": "https://cdn.v2ex.com/navatar/38af/8613/176_mini.png?m=1644885960", "stars": 1954, "aliases": [], "root": false, "id": 176, "parent_node_name": "life"}, "member": {"id": 682557, "username": "waitMeOY", "url": "https://www.v2ex.com/u/waitMeOY", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/6f5f/7d94/682557_mini.png?m=1711792675", "avatar_normal": "https://cdn.v2ex.com/avatar/6f5f/7d94/682557_normal.png?m=1711792675", "avatar_large": "https://cdn.v2ex.com/avatar/6f5f/7d94/682557_large.png?m=1711792675", "avatar_xlarge": "https://cdn.v2ex.com/avatar/6f5f/7d94/682557_xlarge.png?m=1711792675", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/6f5f/7d94/682557_xlarge.png?m=1711792675", "avatar_xxxlarge": "https://cdn.v2ex.com/avatar/6f5f/7d94/682557_xlarge.png?m=1711792675", "created": 1711699789, "last_modified": 1711792675}, "last_reply_by": "Features", "last_touched": 1726334084, "title": "想问下懂车的大佬，普通油车真的只配使用手机导航吗", "url": "https://www.v2ex.com/t/1072851", "created": 1726279157, "deleted": 0, "content": "楼主的车是 2020 年 8 月份买的天籁舒适版，当时带了块电子屏幕，上面有导航，销售说轻易不要升级，升级坏了车坏了不保修 啥的。然后我就一直用着手机导航，但是手机支架不是很稳 经常掉，现在用车很频繁，这样感觉很不安全，就又动了使用电子屏幕的打算，给销售致电，销售还是原来的说辞，我就说为啥人家都用车里的导航，销售说人家是电车，我说我也见过油车用屏幕导航的啊，销售说人家车好。给我说没脾气了，想问问大家，真的是这样的吗？我那车当时落地也要 18W 呢，就这么廉价不配使用最基础的导航吗？", "content_rendered": "楼主的车是 2020 年 8 月份买的天籁舒适版，当时带了块电子屏幕，上面有导航，销售说轻易不要升级，升级坏了车坏了不保修 啥的。然后我就一直用着手机导航，但是手机支架不是很稳 经常掉，现在用车很频繁，这样感觉很不安全，就又动了使用电子屏幕的打算，给销售致电，销售还是原来的说辞，我就说为啥人家都用车里的导航，销售说人家是电车，我说我也见过油车用屏幕导航的啊，销售说人家车好。给我说没脾气了，想问问大家，真的是这样的吗？我那车当时落地也要 18W 呢，就这么廉价不配使用最基础的导航吗？", "last_modified": 1726363397, "replies": 103, "id": 1072851}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_large.png?m=1700771269", "name": "programmer", "avatar_normal": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_normal.png?m=1700771269", "title": "程序员", "url": "https://www.v2ex.com/go/programmer", "topics": 64159, "footer": "", "header": "While code monkeys are not eating bananas, they're coding.", "title_alternative": "Programmer", "avatar_mini": "https://cdn.v2ex.com/navatar/94f6/d7e0/300_mini.png?m=1700771269", "stars": 9081, "aliases": [], "root": false, "id": 300, "parent_node_name": "computer"}, "member": {"id": 400954, "username": "qwerthhusn", "url": "https://www.v2ex.com/u/qwerthhusn", "website": "", "twitter": "", "psn": "", "github": "", "btc": "", "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/775a/a3fb/400954_mini.png?m=1690602282", "avatar_normal": "https://cdn.v2ex.com/avatar/775a/a3fb/400954_normal.png?m=1690602282", "avatar_large": "https://cdn.v2ex.com/avatar/775a/a3fb/400954_large.png?m=1690602282", "created": 1555035669, "last_modified": 1690602282}, "last_reply_by": "Nothing9527", "last_touched": 1726327381, "title": "如何强行吃透一座屎山代码？", "url": "https://www.v2ex.com/t/1072834", "created": 1726277650, "deleted": 0, "content": "领导叫我把一套代码的逻辑吃透，重写合入到另外一个 baseline 项目，但是写那个代码的人水平是真的次，应该是刚毕业的，都没咋写过代码就直接上手项目。（我们现在在做工业上位机项目，都是现场开发功能的，没有代码质量管理）。\r\n\r\n这个成为屎山有点夸张了，顶多是一个屎堆，但是味儿绝对正点。\r\n\r\n* 代码没任何注释\r\n* 到处都是类级别的变量\r\n* 变量和函数和类都是随意起名字 id ，根据名字完全看不出来这个 identifier 是干嘛的，需要去看引用的地方才能看出来，但是有的引用层次关系网异常复杂，绕几下都忘记我要看的是哪个变量了。\r\n* 手拼 JSON ，Split 拆 JSON 等这种操作到处都是。\r\n* 巨无霸代码，所有东西写在一起，有好几个 10000+行数的代码文件。\r\n\r\n虽然我工作这么多年也见过非常多的屎山项目，以前做互联网后端，微服务兴起之前，我见到过比这大得多的多的屎山代码，全量编译都能编译个一二十分钟的都有。但是以前是只是在项目上再加点料就行了，而现在要做的是把整个项目吃透，我该怎么办？有没有啥好的策略？\r\n\r\nPS：跑路不能算是一个好策略，我在看这坨代码的时候晕头转向，满脑子都在想着跑路，但是现在工作太难找了，经历过后疫情的裁员后找工作从希望到失望到绝望的感觉，我宁愿继续啃这坨代码。", "content_rendered": "领导叫我把一套代码的逻辑吃透，重写合入到另外一个 baseline 项目，但是写那个代码的人水平是真的次，应该是刚毕业的，都没咋写过代码就直接上手项目。（我们现在在做工业上位机项目，都是现场开发功能的，没有代码质量管理）。<br /><br />这个成为屎山有点夸张了，顶多是一个屎堆，但是味儿绝对正点。<br /><br />* 代码没任何注释<br />* 到处都是类级别的变量<br />* 变量和函数和类都是随意起名字 id ，根据名字完全看不出来这个 identifier 是干嘛的，需要去看引用的地方才能看出来，但是有的引用层次关系网异常复杂，绕几下都忘记我要看的是哪个变量了。<br />* 手拼 JSON ，Split 拆 JSON 等这种操作到处都是。<br />* 巨无霸代码，所有东西写在一起，有好几个 10000+行数的代码文件。<br /><br />虽然我工作这么多年也见过非常多的屎山项目，以前做互联网后端，微服务兴起之前，我见到过比这大得多的多的屎山代码，全量编译都能编译个一二十分钟的都有。但是以前是只是在项目上再加点料就行了，而现在要做的是把整个项目吃透，我该怎么办？有没有啥好的策略？<br /><br />PS：跑路不能算是一个好策略，我在看这坨代码的时候晕头转向，满脑子都在想着跑路，但是现在工作太难找了，经历过后疫情的裁员后找工作从希望到失望到绝望的感觉，我宁愿继续啃这坨代码。", "last_modified": 1726277650, "replies": 95, "id": 1072834}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/a4a0/42cf/171_large.png?m=1630576706", "name": "invest", "avatar_normal": "https://cdn.v2ex.com/navatar/a4a0/42cf/171_normal.png?m=1630576706", "title": "投资", "url": "https://www.v2ex.com/go/invest", "topics": 1758, "footer": "", "header": "Can you make money with money?", "title_alternative": "Invest", "avatar_mini": "https://cdn.v2ex.com/navatar/a4a0/42cf/171_mini.png?m=1630576706", "stars": 2903, "aliases": [], "root": false, "id": 171, "parent_node_name": "money"}, "member": {"id": 88921, "username": "happydayandnight", "url": "https://www.v2ex.com/u/happydayandnight", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/1cc6b286b2ee83acd76d7044aef01225?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/1cc6b286b2ee83acd76d7044aef01225?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/1cc6b286b2ee83acd76d7044aef01225?s=73&d=retro", "created": 1419815234, "last_modified": 1726313380}, "last_reply_by": "EndlessMemory", "last_touched": 1726329221, "title": "百万纳指 - 我再次改主意，全仓， 梭哈，买买买，永远不卖", "url": "https://www.v2ex.com/t/1072863", "created": 1726280720, "deleted": 0, "content": "百万资金，我想，对于我们普通人的策略，最好的策略也许就是买买买了。把一百万分成 5 份，每周投资一份，跌了买，升了买，有钱了买，没钱了省钱买， 买买买，永远不卖。\r\n\r\n如果我一开始就用这个策略，那么我目前会是盈利几万的。比如前几天纳指亏损在 4%的时候，我没有加仓，现在已经是盈利的，如果当时加仓了，那么加仓的这部分已经是 4%的盈利了。\r\n\r\n目前基金总额 80 万，后面将追加投资到百万。\r\n\r\n另外，我现在可能更偏爱标普 500 了，后面 20 万应该都投入到标普 500 了\r\n\r\n投资标普纳指百万，越跌越买，永远不卖\r\n\r\n![]( https://imgur.com/W1SgdWQ.jpg)\r\n![]( https://imgur.com/6SL9nwN.jpg)\r\n![]( https://imgur.com/Y8sEdPq.jpg)", "content_rendered": "<p>百万资金，我想，对于我们普通人的策略，最好的策略也许就是买买买了。把一百万分成 5 份，每周投资一份，跌了买，升了买，有钱了买，没钱了省钱买， 买买买，永远不卖。</p>\n<p>如果我一开始就用这个策略，那么我目前会是盈利几万的。比如前几天纳指亏损在 4%的时候，我没有加仓，现在已经是盈利的，如果当时加仓了，那么加仓的这部分已经是 4%的盈利了。</p>\n<p>目前基金总额 80 万，后面将追加投资到百万。</p>\n<p>另外，我现在可能更偏爱标普 500 了，后面 20 万应该都投入到标普 500 了</p>\n<p>投资标普纳指百万，越跌越买，永远不卖</p>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://imgur.com/W1SgdWQ.jpg\"/>\n<img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://imgur.com/6SL9nwN.jpg\"/>\n<img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://imgur.com/Y8sEdPq.jpg\"/></p>\n", "last_modified": 1726280720, "replies": 90, "id": 1072863}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/6e27/13a6/557_large.png?m=1608969785", "name": "life", "avatar_normal": "https://cdn.v2ex.com/navatar/6e27/13a6/557_normal.png?m=1608969785", "title": "生活", "url": "https://www.v2ex.com/go/life", "topics": 6317, "footer": "", "header": "生活中的技术讨论", "title_alternative": "Life", "avatar_mini": "https://cdn.v2ex.com/navatar/6e27/13a6/557_mini.png?m=1608969785", "stars": 1511, "aliases": [], "root": false, "id": 557, "parent_node_name": ""}, "member": {"id": 351819, "username": "lixiaobai913", "url": "https://www.v2ex.com/u/lixiaobai913", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/1463/a156/351819_mini.png?m=1694065266", "avatar_normal": "https://cdn.v2ex.com/avatar/1463/a156/351819_normal.png?m=1694065266", "avatar_large": "https://cdn.v2ex.com/avatar/1463/a156/351819_large.png?m=1694065266", "avatar_xlarge": "https://cdn.v2ex.com/avatar/1463/a156/351819_xlarge.png?m=1694065266", "created": 1537796977, "last_modified": 1694065266}, "last_reply_by": "cdaa", "last_touched": 1726311938, "title": "拔智齿的感觉", "url": "https://www.v2ex.com/t/1072832", "created": 1726277411, "deleted": 0, "content": "感觉还是挺快的，拍片，介绍情况，补牙加拔智齿，时间过得挺快的，不怎么痛，昨天拔的到今天也是没咋痛，看网上别人的都痛得好厉害", "content_rendered": "<p>感觉还是挺快的，拍片，介绍情况，补牙加拔智齿，时间过得挺快的，不怎么痛，昨天拔的到今天也是没咋痛，看网上别人的都痛得好厉害</p>\n", "last_modified": 1726277411, "replies": 80, "id": 1072832}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1695370146", "name": "career", "avatar_normal": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1695370146", "title": "职场话题", "url": "https://www.v2ex.com/go/career", "topics": 18097, "footer": "", "header": "这里，我们聊聊那些工作中遇到的开心和不开心的事。", "title_alternative": "Career", "avatar_mini": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1695370146", "stars": 3234, "aliases": [], "root": false, "id": 770, "parent_node_name": "work"}, "member": {"id": 654356, "username": "ali233", "url": "https://www.v2ex.com/u/ali233", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/e4c26ba1f2b0f93afc313890b33ea4a8?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/e4c26ba1f2b0f93afc313890b33ea4a8?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/e4c26ba1f2b0f93afc313890b33ea4a8?s=73&d=retro", "created": 1697080541, "last_modified": 1726280205}, "last_reply_by": "iidear2015", "last_touched": 1726327044, "title": "关于前端代码规范的问题 请教一下大家", "url": "https://www.v2ex.com/t/1072868", "created": 1726281289, "deleted": 0, "content": "最近入职了一家公司 领导在 review 代码的时候有一些分歧，我跟他聊了一些问题\r\n\r\n1. 使用最新的 vue3 技术，而用着老旧的 vue2 的写法 \r\n2. 能 1 行代码解决 10 行代码，但是非要用 10 行代码的写法\r\n3. 长达 1000 行请求（定义请求 url 的）的代码文件，不做任何拆分处理，页面上所有请求都写到这个文件中\r\n4. 目前我维护的几个前端项目每个项目都是不同的写法\r\n\r\n对于以上几点，以下是我跟领导的讨论记录\r\n\r\n1. > 使用最新的 vue3 技术，而用着老旧的 vue2 的写法 \r\n\r\n   **xxx:** 會沿用像 vue2 的寫法純粹是因為當時我們幾個一致覺得這種寫法比較好，比\r\nvue3 那種自由奔放，全部宣告的變數都放進 view 裡面好\r\n以下是具体代码举例\r\n    ````\r\n    <script setup>\r\n      export default defindComponent({\r\n        component: xxx,\r\n        setup:(){\r\n            const listData = ref()\r\n            const handleData = ()=>{xxx}\r\n\r\n            return buildSetup({\r\n              method:{},\r\n              data:{ listData },\r\n              handles: { handleData }\r\n            })\r\n        },\r\n      })\r\n    <script>\r\n    // 页面上使用需要 \r\n    // {{ data.listData }}  {{ handles.handleData }}\r\n    \r\n    // 还有些页面甚至全是 vue options API 写法\r\n    ````\r\n\r\n1. > 能 1 行代码解决 10 行代码，但是非要用 10 行代码的写法\r\n\r\n   **我：** 当页面要获取请求的 loading 和 data 来展示的时候，老写法需要定义两个 ref 来存储接口的数据和状态，过于繁琐，所以使用了以下写法\r\n    ````\r\n    const { data, loading} = useRequest(fetchData)\r\n    ````\r\n    **xxx：** 現在項目的最優先考量是沒有必要的話，不要引入新的寫法，就算新寫法比較好用也是一樣, 因為只會造成新舊不一致，哪天你走了以後下個人又來一個寫法，久了就更難維護了\r\n   所以有出現 useRequest 的地方，我都會退回\r\n\r\n    ````\r\n    const data = ref()\r\n    const loading = ref(false)\r\n\r\n    const getData = ()=>{\r\n        loading.value = true\r\n         await getData(xxx).then(res=>{\r\n              data.ref = res.data\r\n         })\r\n         loading.value = false\r\n    }\r\n    ````\r\n\r\n\r\n3. > 长达 1000 行请求（定义请求 url 的）的代码文件，不做任何拆分处理，页面上所有请求都写到这个文件中\r\n\r\n   **我：** 请求文件中代码量已经非常大，快接近 1000 行，继续往里写可读性会越来越差\r\n   ````\r\n   export default {\r\n     async getListData = () => {\r\n       return  axios.get(xxx)\r\n     },\r\n\r\n     async getUser = () => {\r\n       return axios.xxx\r\n     },\r\n\r\n     xxx...\r\n   }\r\n   ````\r\n\r\n   **xxx:** 現階段我不覺得這是個問題，我也不覺得可讀性有變差，而且對 reviewer 來說沒有多的心智負擔，只要順順看過去就知道在做什麼了。你可能會問說：「那之後變到 3000 行怎麼辦？」，我會說，到那個規模的時候，這個項目很多寫法都不適用了，那時八成會打掉重做，因此現階段這不是個問題\r\n\r\n4.   >目前我维护的几个前端项目每个项目都是不同的写法\r\n\r\n     **我：** 之前前端这块没有前端规范是因为项目都在不同的人手里，每个人开发会有差异，那既然现在项目都是我们自己人在维护了，为什么不统一一下写法和规范呢（ PS: 大概 3-4 个项目，每个项目的写法都不一样）\r\n\r\n     **xxx：** 做任何事情都是需要成本的，如果沒有考慮到成本跟帶來的效益，那就只是種自我滿足而已\r\n   現在的前端系統不會常出 bug ，代表功能上沒太大問題，那會很難維護嗎？不會，雖然幾個項目彼此的風格可能有差，但盡可能維護項目內的風格是一致的，就算以前沒有一致之後，之後也會盡量一致\r\n   再來還需要考量項目之後的發展以及生命週期，之後還有很多新功能嗎？還是已經差不多了？那如果已經進入維護期了，重構的必要性是什麼？有些人只是覺得代碼看起來不順就要重構，沒思考過這個理由是不是合理，是不是符合效益\r\n   總結一句話大概是我認為目前沒有制定開發規則的必要性，現有代碼也暫時不需要大規模的重構\r\n\r\n最后是领导对于团队规范的总结：\r\n不同階段/規模的項目有不同的做法，1 個人的、10 個人的或是 100 人合作的項目，做法都不同，如果硬要把 A 項目的做法直接套到 B 項目上面，或是直接把以前習慣帶進來覺得這一套之前很好用，現在一定也很好用，那通常是有問題的\r\n\r\n我理解这句话的意思一个公司中的团队规范如果在 A 项目中好用，然后套用到 B 项目上还是很好用的话，那么这通常是有问题的\r\n\r\n欢迎大家理性讨论，不知是我过于追求代码洁癖了还是什么", "content_rendered": "<p>最近入职了一家公司 领导在 review 代码的时候有一些分歧，我跟他聊了一些问题</p>\n<ol>\n<li>使用最新的 vue3 技术，而用着老旧的 vue2 的写法 </li>\n<li>能 1 行代码解决 10 行代码，但是非要用 10 行代码的写法</li>\n<li>长达 1000 行请求（定义请求 url 的）的代码文件，不做任何拆分处理，页面上所有请求都写到这个文件中</li>\n<li>目前我维护的几个前端项目每个项目都是不同的写法</li>\n</ol>\n<p>对于以上几点，以下是我跟领导的讨论记录</p>\n<ol>\n<li>\n<blockquote>\n<p>使用最新的 vue3 技术，而用着老旧的 vue2 的写法 </p>\n</blockquote>\n<p><strong>xxx:</strong> 會沿用像 vue2 的寫法純粹是因為當時我們幾個一致覺得這種寫法比較好，比\nvue3 那種自由奔放，全部宣告的變數都放進 view 裡面好\n以下是具体代码举例</p>\n<pre><code>&lt;script setup&gt;\n  export default defindComponent({\n    component: xxx,\n    setup:(){\n        const listData = ref()\n        const handleData = ()=&gt;{xxx}\n\n        return buildSetup({\n          method:{},\n          data:{ listData },\n          handles: { handleData }\n        })\n    },\n  })\n&lt;script&gt;\n// 页面上使用需要 \n// {{ data.listData }}  {{ handles.handleData }}\n\n// 还有些页面甚至全是 vue options API 写法\n</code></pre>\n</li>\n<li>\n<blockquote>\n<p>能 1 行代码解决 10 行代码，但是非要用 10 行代码的写法</p>\n</blockquote>\n<p><strong>我：</strong> 当页面要获取请求的 loading 和 data 来展示的时候，老写法需要定义两个 ref 来存储接口的数据和状态，过于繁琐，所以使用了以下写法</p>\n<pre><code>const { data, loading} = useRequest(fetchData)\n</code></pre>\n<p><strong>xxx：</strong> 現在項目的最優先考量是沒有必要的話，不要引入新的寫法，就算新寫法比較好用也是一樣, 因為只會造成新舊不一致，哪天你走了以後下個人又來一個寫法，久了就更難維護了\n所以有出現 useRequest 的地方，我都會退回</p>\n<pre><code>const data = ref()\nconst loading = ref(false)\n\nconst getData = ()=&gt;{\n    loading.value = true\n     await getData(xxx).then(res=&gt;{\n          data.ref = res.data\n     })\n     loading.value = false\n}\n</code></pre>\n</li>\n<li>\n<blockquote>\n<p>长达 1000 行请求（定义请求 url 的）的代码文件，不做任何拆分处理，页面上所有请求都写到这个文件中</p>\n</blockquote>\n<p><strong>我：</strong> 请求文件中代码量已经非常大，快接近 1000 行，继续往里写可读性会越来越差</p>\n<pre><code>export default {\n  async getListData = () =&gt; {\n    return  axios.get(xxx)\n  },\n\n  async getUser = () =&gt; {\n    return axios.xxx\n  },\n\n  xxx...\n}\n</code></pre>\n<p><strong>xxx:</strong> 現階段我不覺得這是個問題，我也不覺得可讀性有變差，而且對 reviewer 來說沒有多的心智負擔，只要順順看過去就知道在做什麼了。你可能會問說：「那之後變到 3000 行怎麼辦？」，我會說，到那個規模的時候，這個項目很多寫法都不適用了，那時八成會打掉重做，因此現階段這不是個問題</p>\n</li>\n<li>\n<blockquote>\n<p>目前我维护的几个前端项目每个项目都是不同的写法</p>\n</blockquote>\n<p><strong>我：</strong> 之前前端这块没有前端规范是因为项目都在不同的人手里，每个人开发会有差异，那既然现在项目都是我们自己人在维护了，为什么不统一一下写法和规范呢（ PS: 大概 3-4 个项目，每个项目的写法都不一样）</p>\n<p><strong>xxx：</strong> 做任何事情都是需要成本的，如果沒有考慮到成本跟帶來的效益，那就只是種自我滿足而已\n現在的前端系統不會常出 bug ，代表功能上沒太大問題，那會很難維護嗎？不會，雖然幾個項目彼此的風格可能有差，但盡可能維護項目內的風格是一致的，就算以前沒有一致之後，之後也會盡量一致\n再來還需要考量項目之後的發展以及生命週期，之後還有很多新功能嗎？還是已經差不多了？那如果已經進入維護期了，重構的必要性是什麼？有些人只是覺得代碼看起來不順就要重構，沒思考過這個理由是不是合理，是不是符合效益\n總結一句話大概是我認為目前沒有制定開發規則的必要性，現有代碼也暫時不需要大規模的重構</p>\n</li>\n</ol>\n<p>最后是领导对于团队规范的总结：\n不同階段/規模的項目有不同的做法，1 個人的、10 個人的或是 100 人合作的項目，做法都不同，如果硬要把 A 項目的做法直接套到 B 項目上面，或是直接把以前習慣帶進來覺得這一套之前很好用，現在一定也很好用，那通常是有問題的</p>\n<p>我理解这句话的意思一个公司中的团队规范如果在 A 项目中好用，然后套用到 B 项目上还是很好用的话，那么这通常是有问题的</p>\n<p>欢迎大家理性讨论，不知是我过于追求代码洁癖了还是什么</p>\n", "last_modified": 1726281808, "replies": 75, "id": 1072868}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c9f0/f895/8_large.png?m=1630643991", "name": "iphone", "avatar_normal": "https://cdn.v2ex.com/navatar/c9f0/f895/8_normal.png?m=1630643991", "title": "iPhone", "url": "https://www.v2ex.com/go/iphone", "topics": 11704, "footer": "这里绝不讨论如何获得 iPhone 盗版软件、iTunes 黑卡之类。", "header": "Say hello to the future.", "title_alternative": "iPhone", "avatar_mini": "https://cdn.v2ex.com/navatar/c9f0/f895/8_mini.png?m=1630643991", "stars": 3417, "aliases": [], "root": false, "id": 8, "parent_node_name": "apple"}, "member": {"id": 499328, "username": "acorngyl", "url": "https://www.v2ex.com/u/acorngyl", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/9e31d705069a2d33cf591803967e292e?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/9e31d705069a2d33cf591803967e292e?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/9e31d705069a2d33cf591803967e292e?s=73&d=retro", "created": 1594812775, "last_modified": 1594812775}, "last_reply_by": "acorngyl", "last_touched": 1726306641, "title": "放假贴：大家来聊聊快充的使用场景呗！", "url": "https://www.v2ex.com/t/1072838", "created": 1726278045, "deleted": 0, "content": "看最近的帖子，好多人在聊快充的问题。\r\n看来大家都很关注快充啊。估计大家工作生活环境区别很大，对快充要求也不一样。\r\n放假前一天了，不如大家来聊聊自己使用快充场景。\r\n\r\n请大家理性讨论，千问别吵架啊。大过节的。\r\n\r\n提前祝大家中秋快乐🎉🎉🎉🎉🎉🎉。\r\n\r\n我先说说自己。\r\n估计到了电子 ED 的年龄，现在手机用得很佛系，日常就是微信、购物、web 、二维码。码农，上班一天对着电脑，也没空玩手机。ip14 ，早晨 100%出门，回家还能 70% 的电，再加上上下班 apple car ，所有一周可能都不会在家充电。说手机快充是真没体会。\r\n\r\n唯一感觉“快充”有用的是 apple watch ，戴一天回去，洗漱的时候充上，出来基本能满了，晚上还能检测下睡眠（虽说大部份时间也不戴吧）。然后，9 月 1 日的无线充电新国标，把苹果 Qi2 也给砍了。😭整得现在真犹豫要不要买国行 10 了。", "content_rendered": "<p>看最近的帖子，好多人在聊快充的问题。\n看来大家都很关注快充啊。估计大家工作生活环境区别很大，对快充要求也不一样。\n放假前一天了，不如大家来聊聊自己使用快充场景。</p>\n<p>请大家理性讨论，千问别吵架啊。大过节的。</p>\n<p>提前祝大家中秋快乐🎉🎉🎉🎉🎉🎉。</p>\n<p>我先说说自己。\n估计到了电子 ED 的年龄，现在手机用得很佛系，日常就是微信、购物、web 、二维码。码农，上班一天对着电脑，也没空玩手机。ip14 ，早晨 100%出门，回家还能 70% 的电，再加上上下班 apple car ，所有一周可能都不会在家充电。说手机快充是真没体会。</p>\n<p>唯一感觉“快充”有用的是 apple watch ，戴一天回去，洗漱的时候充上，出来基本能满了，晚上还能检测下睡眠（虽说大部份时间也不戴吧）。然后，9 月 1 日的无线充电新国标，把苹果 Qi2 也给砍了。😭整得现在真犹豫要不要买国行 10 了。</p>\n", "last_modified": 1726278045, "replies": 68, "id": 1072838}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/9f61/408e/56_large.png?m=1628212285", "name": "internet", "avatar_normal": "https://cdn.v2ex.com/navatar/9f61/408e/56_normal.png?m=1628212285", "title": "互联网", "url": "https://www.v2ex.com/go/internet", "topics": 3764, "footer": "", "header": "In Internet we trust", "title_alternative": "Internet", "avatar_mini": "https://cdn.v2ex.com/navatar/9f61/408e/56_mini.png?m=1628212285", "stars": 1118, "aliases": [], "root": false, "id": 56, "parent_node_name": "computer"}, "member": {"id": 273921, "username": "Steven0125", "url": "https://www.v2ex.com/u/Steven0125", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/2563/dcf1/273921_mini.png?m=1549958414", "avatar_normal": "https://cdn.v2ex.com/avatar/2563/dcf1/273921_normal.png?m=1549958414", "avatar_large": "https://cdn.v2ex.com/avatar/2563/dcf1/273921_large.png?m=1549958414", "created": 1513008891, "last_modified": 1549958414}, "last_reply_by": "wintercoming", "last_touched": 1726323958, "title": "在国内，还有什么 IM App 好用？", "url": "https://www.v2ex.com/t/1072835", "created": 1726277775, "deleted": 0, "content": "除了 QQ ，微信，家里老人也会安装注册的通讯 App ，想尝试抵制 QQ 和微信", "content_rendered": "除了 QQ ，微信，家里老人也会安装注册的通讯 App ，想尝试抵制 QQ 和微信", "last_modified": 1726316116, "replies": 67, "id": 1072835}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 223061, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 4235, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 595245, "username": "vanvan00097", "url": "https://www.v2ex.com/u/vanvan00097", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/gravatar/9edc42eed271d952612ee1013b319a74?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/9edc42eed271d952612ee1013b319a74?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/9edc42eed271d952612ee1013b319a74?s=73&d=retro", "created": 1664008792, "last_modified": 1676772043}, "last_reply_by": "vanvan00097", "last_touched": 1726294729, "title": "网贷真的害死人，不是迫不得已一定别碰，如果碰了，早日还清上岸。", "url": "https://www.v2ex.com/t/1072862", "created": 1726280362, "deleted": 0, "content": "最近急用钱 再省呗借了 1 万块，分了 3 期，结果才借了 5 天，就滚了 333 利息，一看年利率 36.7%,这不就是高利贷，吓得我昨晚焦虑到睡不着，刚终于还清+开具还清证明+打电话让省呗官方帮我解绑银行卡和注销账户。太恶心了。\r\n最可怕都是 借款的时候，类似那种抢票软件，什么购买加速包可以尽快放款，我没点购买都给我自动购买，刚下款就扣了我的钱，马上打电话去退掉。\r\n今天早上还款的时候，更恶心，虽然是提前还款，然后还分好几笔扣款，有那种不让我提前还的样子，虽然最后成功结清，但还是觉得很可怕，银行的小程序，提示我各种开通还是授权了什么代收款账户，还完我也立马去银行 APP 快捷支付，代收款账户全都解除绑定。\r\n现在除了征信记录有点黑（没逾期）但是借款和查询小额贷款的机构有点多。不是很好看 只能慢慢养了\r\n\r\n\r\n真心劝，不是迫不得已不要碰网贷，不要碰网贷，不要碰网贷 。有什么事情 跟家里人坦白，放低欲望，放下浮躁。\r\n目前还有阿里借呗的一些利息比较少的慢慢还了，希望早日还清上岸。子子孙孙告诫不再碰网贷。", "content_rendered": "最近急用钱 再省呗借了 1 万块，分了 3 期，结果才借了 5 天，就滚了 333 利息，一看年利率 36.7%,这不就是高利贷，吓得我昨晚焦虑到睡不着，刚终于还清+开具还清证明+打电话让省呗官方帮我解绑银行卡和注销账户。太恶心了。<br />最可怕都是 借款的时候，类似那种抢票软件，什么购买加速包可以尽快放款，我没点购买都给我自动购买，刚下款就扣了我的钱，马上打电话去退掉。<br />今天早上还款的时候，更恶心，虽然是提前还款，然后还分好几笔扣款，有那种不让我提前还的样子，虽然最后成功结清，但还是觉得很可怕，银行的小程序，提示我各种开通还是授权了什么代收款账户，还完我也立马去银行 APP 快捷支付，代收款账户全都解除绑定。<br />现在除了征信记录有点黑（没逾期）但是借款和查询小额贷款的机构有点多。不是很好看 只能慢慢养了<br /><br /><br />真心劝，不是迫不得已不要碰网贷，不要碰网贷，不要碰网贷 。有什么事情 跟家里人坦白，放低欲望，放下浮躁。<br />目前还有阿里借呗的一些利息比较少的慢慢还了，希望早日还清上岸。子子孙孙告诫不再碰网贷。", "last_modified": 1726280362, "replies": 62, "id": 1072862}]