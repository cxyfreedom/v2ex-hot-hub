[{"node": {"avatar_large": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_large.png?m=1650095340", "name": "qna", "avatar_normal": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_normal.png?m=1650095340", "title": "问与答", "url": "https://www.v2ex.com/go/qna", "topics": 225597, "footer": "", "header": "一个更好的世界需要你持续地提出好问题。", "title_alternative": "Questions and Answers", "avatar_mini": "https://cdn.v2ex.com/navatar/c20a/d4d7/12_mini.png?m=1650095340", "stars": 4271, "aliases": [], "root": false, "id": 12, "parent_node_name": "v2ex"}, "member": {"id": 681668, "username": "jaio1", "url": "https://www.v2ex.com/u/jaio1", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/c64d/cb27/681668_mini.png?m=1718867136", "avatar_normal": "https://cdn.v2ex.com/avatar/c64d/cb27/681668_normal.png?m=1718867136", "avatar_large": "https://cdn.v2ex.com/avatar/c64d/cb27/681668_large.png?m=1718867136", "avatar_xlarge": "https://cdn.v2ex.com/avatar/c64d/cb27/681668_xlarge.png?m=1718867136", "created": 1711266208, "last_modified": 1718867136}, "last_reply_by": "superBearL", "last_touched": 1732238778, "title": "遇见恶性事件，我们应该上前制止吗？", "url": "https://www.v2ex.com/t/1091563", "created": 1732180589, "deleted": 0, "content": "由于最近出现的一些恶性事件，我们老师开了一次班会，我便生成一些疑问\r\n\r\n无锡发生的事，离我们这里很近。老师说，由于这些事件，警察来学校开过会。于是便有了此次班会\r\n\r\n会里提到：最近的恶行事件，让我们注意安全。如果是个人遇见就赶快跑，要是有很多人，就不要怂，像无锡那次事件，就一个拿着刀的普通男生，随便来三个男生就把他按住了，也就不会有那么大的恶性事件了，大学生要有骨气，不要怂，平时学校论坛发言也没见那么......（学校有个论坛，里面确实非常魔怔）。\r\n\r\n就个人而言我认为肯定是不管多少人，赶快跑。就社会而言，或许真会更加安全。\r\n\r\n但我在想，这样或许确实能减少大的恶行伤害事件，社会或许真会更加安全。但是警察来学校指导，老师开会传达，学校的这种教育真的好吗？还是个人想法太自私了？", "content_rendered": "由于最近出现的一些恶性事件，我们老师开了一次班会，我便生成一些疑问<br /><br />无锡发生的事，离我们这里很近。老师说，由于这些事件，警察来学校开过会。于是便有了此次班会<br /><br />会里提到：最近的恶行事件，让我们注意安全。如果是个人遇见就赶快跑，要是有很多人，就不要怂，像无锡那次事件，就一个拿着刀的普通男生，随便来三个男生就把他按住了，也就不会有那么大的恶性事件了，大学生要有骨气，不要怂，平时学校论坛发言也没见那么......（学校有个论坛，里面确实非常魔怔）。<br /><br />就个人而言我认为肯定是不管多少人，赶快跑。就社会而言，或许真会更加安全。<br /><br />但我在想，这样或许确实能减少大的恶行伤害事件，社会或许真会更加安全。但是警察来学校指导，老师开会传达，学校的这种教育真的好吗？还是个人想法太自私了？", "last_modified": 1732180589, "replies": 107, "id": 1091563}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_large.png?m=1695370146", "name": "career", "avatar_normal": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_normal.png?m=1695370146", "title": "职场话题", "url": "https://www.v2ex.com/go/career", "topics": 18578, "footer": "", "header": "这里，我们聊聊那些工作中遇到的开心和不开心的事。", "title_alternative": "Career", "avatar_mini": "https://cdn.v2ex.com/navatar/4ea0/6fbc/770_mini.png?m=1695370146", "stars": 3279, "aliases": [], "root": false, "id": 770, "parent_node_name": "work"}, "member": {"id": 552431, "username": "hellojukay", "url": "https://www.v2ex.com/u/hellojukay", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/64f3/0fca/552431_mini.png?m=1732158993", "avatar_normal": "https://cdn.v2ex.com/avatar/64f3/0fca/552431_normal.png?m=1732158993", "avatar_large": "https://cdn.v2ex.com/avatar/64f3/0fca/552431_large.png?m=1732158993", "avatar_xlarge": "https://cdn.v2ex.com/avatar/64f3/0fca/552431_xlarge.png?m=1732158993", "avatar_xxlarge": "https://cdn.v2ex.com/avatar/64f3/0fca/552431_xlarge.png?m=1732158993", "created": 1627978168, "last_modified": 1732158993}, "last_reply_by": "penll", "last_touched": 1732238627, "title": "即将到来的 2025 年，就业环境会变好吗？", "url": "https://www.v2ex.com/t/1091433", "created": 1732159145, "deleted": 0, "content": "过去的 3 年已经很糟糕了，希望新的一年能有转机", "content_rendered": "<p>过去的 3 年已经很糟糕了，希望新的一年能有转机</p>\n", "last_modified": 1732160683, "replies": 92, "id": 1091433}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/38af/8613/176_large.png?m=1644885960", "name": "car", "avatar_normal": "https://cdn.v2ex.com/navatar/38af/8613/176_normal.png?m=1644885960", "title": "汽车", "url": "https://www.v2ex.com/go/car", "topics": 2456, "footer": "", "header": "关于买车、开车及汽车文化的技术讨论", "title_alternative": "Car", "avatar_mini": "https://cdn.v2ex.com/navatar/38af/8613/176_mini.png?m=1644885960", "stars": 2017, "aliases": [], "root": false, "id": 176, "parent_node_name": "life"}, "member": {"id": 316743, "username": "gorillaL2sll", "url": "https://www.v2ex.com/u/gorillaL2sll", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/fe24/1f7e/316743_mini.png?m=1536586305", "avatar_normal": "https://cdn.v2ex.com/avatar/fe24/1f7e/316743_normal.png?m=1536586305", "avatar_large": "https://cdn.v2ex.com/avatar/fe24/1f7e/316743_large.png?m=1536586305", "created": 1526451949, "last_modified": 1536586305}, "last_reply_by": "whythings", "last_touched": 1732238788, "title": "三选一，小米 su7 pro，特斯拉 model y，奔驰 glb 200", "url": "https://www.v2ex.com/t/1091497", "created": 1732170469, "deleted": 0, "content": "坐标上海，最近在看车，小米 su7 pro ，特斯拉 model y ，奔驰 glb 200 ，选哪个啊，有什么优缺点吗，电车和油车有什么区别没用", "content_rendered": "<p>坐标上海，最近在看车，小米 su7 pro ，特斯拉 model y ，奔驰 glb 200 ，选哪个啊，有什么优缺点吗，电车和油车有什么区别没用</p>\n", "last_modified": 1732196057, "replies": 73, "id": 1091497}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/1fc2/1400/864_large.png?m=1658911802", "name": "promotions", "avatar_normal": "https://cdn.v2ex.com/navatar/1fc2/1400/864_normal.png?m=1658911802", "title": "推广", "url": "https://www.v2ex.com/go/promotions", "topics": 8642, "footer": "", "header": "来自厂商的推广活动类主题，会被归类到这个节点。希望有情怀的产商们在发布推广内容时，主动选择发布到本节点下。点击 <a href=\"/help/node\">这里</a> 阅读 V2EX 的节点使用指南。", "title_alternative": "Promotions", "avatar_mini": "https://cdn.v2ex.com/navatar/1fc2/1400/864_mini.png?m=1658911802", "stars": 958, "aliases": [], "root": false, "id": 864, "parent_node_name": ""}, "member": {"id": 390555, "username": "zzerd", "url": "https://www.v2ex.com/u/zzerd", "website": "", "twitter": null, "psn": null, "github": null, "btc": null, "location": "", "tagline": "", "bio": "", "avatar_mini": "https://cdn.v2ex.com/avatar/5288/c60e/390555_mini.png?m=1732204101", "avatar_normal": "https://cdn.v2ex.com/avatar/5288/c60e/390555_normal.png?m=1732204101", "avatar_large": "https://cdn.v2ex.com/avatar/5288/c60e/390555_large.png?m=1732204101", "created": 1552031208, "last_modified": 1732204101}, "last_reply_by": "imherer", "last_touched": 1732238980, "title": "自已家的赣南脐橙开卖，给 v 友抽几箱", "url": "https://www.v2ex.com/t/1091646", "created": 1732206489, "deleted": 0, "content": "##  抽奖规则和去年一样取上证指数和最后指定日期最高楼。上一年的帖子[/996196]( https://v2ex.com/t/996196)\r\n### 今年取 2024-11-22 上证指数收盘价作为随机数种子，有效抽奖用户为 2024-11-22 帖子回复最高楼层前的所有所有人\r\n### 去年的抽奖代码没有去重所有回复多个的用户中的概率高一点点，今年我用 ai 糊了一下。代码如下\r\n```javascrit\r\nconst UA = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36';\r\n\r\nasync function handleRequest(tid, num, seedParam, maxFloor) {\r\n    if (!tid || isNaN(num)) {\r\n        console.error('请提供有效的帖子 ID 和抽奖人数');\r\n        return;\r\n    }\r\n    console.log(`Fetching OP for TID: ${tid}`);\r\n    const op = await getOp(tid);\r\n    console.log(`OP: ${op}`);\r\n    console.log(`Fetching all users for TID: ${tid}`);\r\n    const uniqueUserList = await getAllUser(tid, maxFloor);\r\n    console.log(`Unique Users: ${uniqueUserList.join(', ')}`);\r\n    const filteredUserList = uniqueUserList.filter(user => user !== op);\r\n    console.log(`Filtered Users: ${filteredUserList.join(', ')}`);\r\n    const userCount = filteredUserList.length;\r\n    console.log(`User Count: ${userCount}`);\r\n    const seed = seedParam !== null ? seedParam : userCount.toString();\r\n    console.log(`Seed: ${seed}`);\r\n    console.log(`Max Floor: ${maxFloor}`);\r\n    const combinedSeed = `${seed}-${maxFloor}`;\r\n    console.log(`Combined Seed: ${combinedSeed}`);\r\n    const shuffledList = shuffle(filteredUserList, combinedSeed);\r\n    console.log(`Shuffled Users: ${shuffledList.join(', ')}`);\r\n    const result = `符合条件的用户共有 ${filteredUserList.length} 人\r\n抽奖结果:\r\n${shuffledList.slice(0, num).join('\\n')}`;\r\n    console.log(result);\r\n}\r\n\r\nasync function getOp(tid) {\r\n    const url = `https://www.v2ex.com/amp/t/${tid}`;\r\n    console.log(`Fetching OP URL: ${url}`);\r\n    const response = await fetch(url, { headers: { 'User-Agent': UA } });\r\n    if (!response.ok) {\r\n        console.log(`Failed to fetch OP: ${response.status} ${response.statusText}`);\r\n        return null;\r\n    }\r\n    const text = await response.text();\r\n    const match = /<div class=\"topic_author\">[\\s\\S]*?<amp-img[^>]+alt=\"([^\"]+)\"[\\s\\S]*?<\\/div>/.exec(text);\r\n    console.log(`OP Match: ${match ? match[1] : null}`);\r\n    return match ? match[1].trim() : null;\r\n}\r\n\r\nasync function getUserList(url, startIndex, endIndex) {\r\n    console.log(`Fetching User List URL: ${url}`);\r\n    const response = await fetch(url, { headers: { 'User-Agent': UA } });\r\n    if (!response.ok) {\r\n        console.log(`Failed to fetch User List: ${response.status} ${response.statusText}`);\r\n        return [];\r\n    }\r\n    const text = await response.text();\r\n    const replyItemRegex = /<div class=\"reply_item\">([\\s\\S]*?)<\\/div>/g;\r\n    let replyItemMatch;\r\n    const users = [];\r\n    let currentIndex = startIndex || 0;\r\n    while ((replyItemMatch = replyItemRegex.exec(text)) !== null) {\r\n        if (endIndex !== undefined && currentIndex >= endIndex) {\r\n            break;\r\n        }\r\n        const replyItem = replyItemMatch[1];\r\n        const altRegex = /<amp-img[^>]+alt=\"([^\"]+)\"[^>]*>/g;\r\n        const altMatch = altRegex.exec(replyItem);\r\n        if (altMatch) {\r\n            users.push(altMatch[1]);\r\n        }\r\n        currentIndex++;\r\n    }\r\n    console.log(`Matches: ${users.join(', ')}`);\r\n    return users;\r\n}\r\n\r\nasync function getAllPages(tid) {\r\n    const url = `https://www.v2ex.com/amp/t/${tid}`;\r\n    console.log(`Fetching All Pages URL: ${url}`);\r\n    const response = await fetch(url, { headers: { 'User-Agent': UA } });\r\n    if (!response.ok) {\r\n        console.log(`Failed to fetch All Pages: ${response.status} ${response.statusText}`);\r\n        return [];\r\n    }\r\n    const text = await response.text();\r\n    const pageCountMatch = /\\u5171 (\\d+) \\u9875/.exec(text);\r\n    const pageCount = pageCountMatch ? parseInt(pageCountMatch[1], 10) : 1;\r\n    console.log(`Page Count: ${pageCount}`);\r\n    const pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(`${url}/${i}`);\r\n    }\r\n    return pages;\r\n}\r\n\r\nasync function getAllUser(tid, maxFloor) {\r\n    const pages = await getAllPages(tid);\r\n    console.log(`Pages: ${pages.join(', ')}`);\r\n    let allUsers = [];\r\n    let currentFloor = 0;\r\n    for (let page of pages) {\r\n        const startIndex = currentFloor;\r\n        const endIndex = maxFloor !== undefined ? maxFloor : undefined;\r\n        const users = await getUserList(page, startIndex, endIndex);\r\n        allUsers = allUsers.concat(users);\r\n        currentFloor += users.length;\r\n        if (endIndex !== undefined && currentFloor >= endIndex) {\r\n            break;\r\n        }\r\n    }\r\n    const uniqueUsers = [];\r\n    const seen = new Set();\r\n    for (const user of allUsers) {\r\n        if (!seen.has(user)) {\r\n            uniqueUsers.push(user);\r\n            seen.add(user);\r\n        }\r\n    }\r\n    console.log(`Unique Users: ${uniqueUsers.join(', ')}`);\r\n    return uniqueUsers;\r\n}\r\n\r\nfunction shuffle(array, seed) {\r\n    const rng = lcg(seed);\r\n    console.log(`Shuffling with Seed: ${seed}`);\r\n    for (let i = array.length - 1; i > 0; i--) {\r\n        const j = Math.floor(rng() * (i + 1));\r\n        console.log(`Shuffling: i=${i}, j=${j}`);\r\n        if (array[i] !== undefined && array[j] !== undefined) {\r\n            [array[i], array[j]] = [array[j], array[i]];\r\n        } else {\r\n            console.log(`Error: array[i] or array[j] is undefined. i=${i}, j=${j}, array[i]=${array[i]}, array[j]=${array[j]}`);\r\n        }\r\n    }\r\n    return array;\r\n}\r\n\r\nfunction lcg(seed) {\r\n    let state = hashCode(seed);\r\n    console.log(`LCG State: ${state}`);\r\n    const a = 1664525;\r\n    const c = 1013904223;\r\n    const m = Math.pow(2, 32);\r\n    return function() {\r\n        state = (a * state + c) % m;\r\n        console.log(`LCG Next: ${state / m}`);\r\n        return state / m;\r\n    }\r\n}\r\n\r\nfunction hashCode(str) {\r\n    l\r\n![]( https://i.v2ex.co/VlpwI4y5.jpeg)\r\net hash = 0;\r\n    for (let i = 0; i < str.length; i++) {\r\n        const char = str.charCodeAt(i);\r\n        hash = ((hash << 5) - hash) + char;\r\n        hash |= 0;\r\n    }\r\n    return Math.abs(hash);\r\n}\r\n\r\n// Example usage:\r\nhandleRequest('123456', 3, seed123, 10);\r\n这里的 '123456' 是帖子 ID ，3 是抽奖人数，'seed123' 是种子（可选），10 是最大楼层（可选）。\r\n在 V2EX 网站里用浏览器 consele 运行就可以\r\n```\r\n为了方便 v 友进行类似抽奖我糊了一个 cloudflare work 来使用直接请求 ***https://v2ex.240801.xyz/?tid=12345&num=10&seed=12345&maxFloor=11***（大佬别打，刚装上访问不了可能 cf 路由没设置好）这里的参数说明为 tid 为帖子 id num 为中奖人数 seed 为随机数种子 maxFloor 为最高楼层\r\n## 下面是橙子链接请大家按需购买\r\n\r\n![]( https://i.v2ex.co/VlpwI4y5.jpeg)\r\n\r\nps 甜度不用担心，今年我们县的都甜。现摘现发没有清洗打腊，只要老家不下雨一般下单第二天就发货。室温 20 度以内还是很耐放的两三个星期没啥问题。有个卖橙子的微信群想加的加我微信 console.log(atob('enF3MjAwOA=='))拉群", "content_rendered": "<h2>抽奖规则和去年一样取上证指数和最后指定日期最高楼。上一年的帖子<a href=\"https://v2ex.com/t/996196\" rel=\"nofollow\">/996196</a></h2>\n<h3>今年取 2024-11-22 上证指数收盘价作为随机数种子，有效抽奖用户为 2024-11-22 帖子回复最高楼层前的所有所有人</h3>\n<h3>去年的抽奖代码没有去重所有回复多个的用户中的概率高一点点，今年我用 ai 糊了一下。代码如下</h3>\n<pre><code class=\"language-javascrit\">const UA = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.132 Safari/537.36';\n\nasync function handleRequest(tid, num, seedParam, maxFloor) {\n    if (!tid || isNaN(num)) {\n        console.error('请提供有效的帖子 ID 和抽奖人数');\n        return;\n    }\n    console.log(`Fetching OP for TID: ${tid}`);\n    const op = await getOp(tid);\n    console.log(`OP: ${op}`);\n    console.log(`Fetching all users for TID: ${tid}`);\n    const uniqueUserList = await getAllUser(tid, maxFloor);\n    console.log(`Unique Users: ${uniqueUserList.join(', ')}`);\n    const filteredUserList = uniqueUserList.filter(user =&gt; user !== op);\n    console.log(`Filtered Users: ${filteredUserList.join(', ')}`);\n    const userCount = filteredUserList.length;\n    console.log(`User Count: ${userCount}`);\n    const seed = seedParam !== null ? seedParam : userCount.toString();\n    console.log(`Seed: ${seed}`);\n    console.log(`Max Floor: ${maxFloor}`);\n    const combinedSeed = `${seed}-${maxFloor}`;\n    console.log(`Combined Seed: ${combinedSeed}`);\n    const shuffledList = shuffle(filteredUserList, combinedSeed);\n    console.log(`Shuffled Users: ${shuffledList.join(', ')}`);\n    const result = `符合条件的用户共有 ${filteredUserList.length} 人\n抽奖结果:\n${shuffledList.slice(0, num).join('\\n')}`;\n    console.log(result);\n}\n\nasync function getOp(tid) {\n    const url = `https://www.v2ex.com/amp/t/${tid}`;\n    console.log(`Fetching OP URL: ${url}`);\n    const response = await fetch(url, { headers: { 'User-Agent': UA } });\n    if (!response.ok) {\n        console.log(`Failed to fetch OP: ${response.status} ${response.statusText}`);\n        return null;\n    }\n    const text = await response.text();\n    const match = /&lt;div class=\"topic_author\"&gt;[\\s\\S]*?&lt;amp-img[^&gt;]+alt=\"([^\"]+)\"[\\s\\S]*?&lt;\\/div&gt;/.exec(text);\n    console.log(`OP Match: ${match ? match[1] : null}`);\n    return match ? match[1].trim() : null;\n}\n\nasync function getUserList(url, startIndex, endIndex) {\n    console.log(`Fetching User List URL: ${url}`);\n    const response = await fetch(url, { headers: { 'User-Agent': UA } });\n    if (!response.ok) {\n        console.log(`Failed to fetch User List: ${response.status} ${response.statusText}`);\n        return [];\n    }\n    const text = await response.text();\n    const replyItemRegex = /&lt;div class=\"reply_item\"&gt;([\\s\\S]*?)&lt;\\/div&gt;/g;\n    let replyItemMatch;\n    const users = [];\n    let currentIndex = startIndex || 0;\n    while ((replyItemMatch = replyItemRegex.exec(text)) !== null) {\n        if (endIndex !== undefined &amp;&amp; currentIndex &gt;= endIndex) {\n            break;\n        }\n        const replyItem = replyItemMatch[1];\n        const altRegex = /&lt;amp-img[^&gt;]+alt=\"([^\"]+)\"[^&gt;]*&gt;/g;\n        const altMatch = altRegex.exec(replyItem);\n        if (altMatch) {\n            users.push(altMatch[1]);\n        }\n        currentIndex++;\n    }\n    console.log(`Matches: ${users.join(', ')}`);\n    return users;\n}\n\nasync function getAllPages(tid) {\n    const url = `https://www.v2ex.com/amp/t/${tid}`;\n    console.log(`Fetching All Pages URL: ${url}`);\n    const response = await fetch(url, { headers: { 'User-Agent': UA } });\n    if (!response.ok) {\n        console.log(`Failed to fetch All Pages: ${response.status} ${response.statusText}`);\n        return [];\n    }\n    const text = await response.text();\n    const pageCountMatch = /\\u5171 (\\d+) \\u9875/.exec(text);\n    const pageCount = pageCountMatch ? parseInt(pageCountMatch[1], 10) : 1;\n    console.log(`Page Count: ${pageCount}`);\n    const pages = [];\n    for (let i = 1; i &lt;= pageCount; i++) {\n        pages.push(`${url}/${i}`);\n    }\n    return pages;\n}\n\nasync function getAllUser(tid, maxFloor) {\n    const pages = await getAllPages(tid);\n    console.log(`Pages: ${pages.join(', ')}`);\n    let allUsers = [];\n    let currentFloor = 0;\n    for (let page of pages) {\n        const startIndex = currentFloor;\n        const endIndex = maxFloor !== undefined ? maxFloor : undefined;\n        const users = await getUserList(page, startIndex, endIndex);\n        allUsers = allUsers.concat(users);\n        currentFloor += users.length;\n        if (endIndex !== undefined &amp;&amp; currentFloor &gt;= endIndex) {\n            break;\n        }\n    }\n    const uniqueUsers = [];\n    const seen = new Set();\n    for (const user of allUsers) {\n        if (!seen.has(user)) {\n            uniqueUsers.push(user);\n            seen.add(user);\n        }\n    }\n    console.log(`Unique Users: ${uniqueUsers.join(', ')}`);\n    return uniqueUsers;\n}\n\nfunction shuffle(array, seed) {\n    const rng = lcg(seed);\n    console.log(`Shuffling with Seed: ${seed}`);\n    for (let i = array.length - 1; i &gt; 0; i--) {\n        const j = Math.floor(rng() * (i + 1));\n        console.log(`Shuffling: i=${i}, j=${j}`);\n        if (array[i] !== undefined &amp;&amp; array[j] !== undefined) {\n            [array[i], array[j]] = [array[j], array[i]];\n        } else {\n            console.log(`Error: array[i] or array[j] is undefined. i=${i}, j=${j}, array[i]=${array[i]}, array[j]=${array[j]}`);\n        }\n    }\n    return array;\n}\n\nfunction lcg(seed) {\n    let state = hashCode(seed);\n    console.log(`LCG State: ${state}`);\n    const a = 1664525;\n    const c = 1013904223;\n    const m = Math.pow(2, 32);\n    return function() {\n        state = (a * state + c) % m;\n        console.log(`LCG Next: ${state / m}`);\n        return state / m;\n    }\n}\n\nfunction hashCode(str) {\n    l\n![]( https://i.v2ex.co/VlpwI4y5.jpeg)\net hash = 0;\n    for (let i = 0; i &lt; str.length; i++) {\n        const char = str.charCodeAt(i);\n        hash = ((hash &lt;&lt; 5) - hash) + char;\n        hash |= 0;\n    }\n    return Math.abs(hash);\n}\n\n// Example usage:\nhandleRequest('123456', 3, seed123, 10);\n这里的 '123456' 是帖子 ID ，3 是抽奖人数，'seed123' 是种子（可选），10 是最大楼层（可选）。\n在 V2EX 网站里用浏览器 consele 运行就可以\n</code></pre>\n<p>为了方便 v 友进行类似抽奖我糊了一个 cloudflare work 来使用直接请求 <em><strong>https://v2ex.240801.xyz/?tid=12345&amp;num=10&amp;seed=12345&amp;maxFloor=11</strong></em>（大佬别打，刚装上访问不了可能 cf 路由没设置好）这里的参数说明为 tid 为帖子 id num 为中奖人数 seed 为随机数种子 maxFloor 为最高楼层</p>\n<h2>下面是橙子链接请大家按需购买</h2>\n<p><img alt=\"\" class=\"embedded_image\" loading=\"lazy\" referrerpolicy=\"no-referrer\" rel=\"noreferrer\" src=\"https://i.v2ex.co/VlpwI4y5.jpeg\"/></p>\n<p>ps 甜度不用担心，今年我们县的都甜。现摘现发没有清洗打腊，只要老家不下雨一般下单第二天就发货。室温 20 度以内还是很耐放的两三个星期没啥问题。有个卖橙子的微信群想加的加我微信 console.log(atob('enF3MjAwOA=='))拉群</p>\n", "last_modified": 1732206489, "replies": 68, "id": 1091646}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/e57c/6b95/772_large.png?m=1646751663", "name": "github", "avatar_normal": "https://cdn.v2ex.com/navatar/e57c/6b95/772_normal.png?m=1646751663", "title": "GitHub", "url": "https://www.v2ex.com/go/github", "topics": 1134, "footer": "", "header": "A global place for programmers.", "title_alternative": "GitHub", "avatar_mini": "https://cdn.v2ex.com/navatar/e57c/6b95/772_mini.png?m=1646751663", "stars": 665, "aliases": [], "root": false, "id": 772, "parent_node_name": "programmer"}, "member": {"id": 199643, "username": "sumonian", "url": "https://www.v2ex.com/u/sumonian", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/avatar/8470/9322/199643_mini.png?m=1509337729", "avatar_normal": "https://cdn.v2ex.com/avatar/8470/9322/199643_normal.png?m=1509337729", "avatar_large": "https://cdn.v2ex.com/avatar/8470/9322/199643_large.png?m=1509337729", "created": 1478135967, "last_modified": 1509337729}, "last_reply_by": "karasushin", "last_touched": 1732198103, "title": "咨询大家一下 github 启用双因子认证大家都用什么？", "url": "https://www.v2ex.com/t/1091407", "created": 1732155381, "deleted": 0, "content": "主要的问题是用微软 Authenticator 和谷歌浏览器身份验证器生成的不一样，先用的微软 Authenticator 是正确的？大家有没有遇到这个问题，为啥谷歌的身份验证器生成不一样，有问题？", "content_rendered": "<p>主要的问题是用微软 Authenticator 和谷歌浏览器身份验证器生成的不一样，先用的微软 Authenticator 是正确的？大家有没有遇到这个问题，为啥谷歌的身份验证器生成不一样，有问题？</p>\n", "last_modified": 1732160753, "replies": 68, "id": 1091407}, {"node": {"avatar_large": "https://cdn.v2ex.com/navatar/38af/8613/176_large.png?m=1644885960", "name": "car", "avatar_normal": "https://cdn.v2ex.com/navatar/38af/8613/176_normal.png?m=1644885960", "title": "汽车", "url": "https://www.v2ex.com/go/car", "topics": 2456, "footer": "", "header": "关于买车、开车及汽车文化的技术讨论", "title_alternative": "Car", "avatar_mini": "https://cdn.v2ex.com/navatar/38af/8613/176_mini.png?m=1644885960", "stars": 2017, "aliases": [], "root": false, "id": 176, "parent_node_name": "life"}, "member": {"id": 551043, "username": "HEGGRIA", "url": "https://www.v2ex.com/u/HEGGRIA", "website": null, "twitter": null, "psn": null, "github": null, "btc": null, "location": null, "tagline": null, "bio": null, "avatar_mini": "https://cdn.v2ex.com/gravatar/174de084f7cdb19055a0b5c78f386ade?s=24&d=retro", "avatar_normal": "https://cdn.v2ex.com/gravatar/174de084f7cdb19055a0b5c78f386ade?s=48&d=retro", "avatar_large": "https://cdn.v2ex.com/gravatar/174de084f7cdb19055a0b5c78f386ade?s=73&d=retro", "created": 1626418780, "last_modified": 1626418780}, "last_reply_by": "xdeng", "last_touched": 1732238728, "title": "30w 左右预算，五选一纠结中", "url": "https://www.v2ex.com/t/1091534", "created": 1732175882, "deleted": 0, "content": "打算买辆新能源轿车，预算大约在 30 万元左右。目前在以下五款销量高的车型中纠结，希望大家能提供一些建议或经验分享：\r\n\r\n- 小米 su7 max\r\n- 智界 S7 Max+ 或者 RS\r\n- 极氪 001 ME 或者 YOU\r\n- 特斯拉 model 3+ 或者 3p\r\n- 蔚来 et5 或者 et5t\r\n\r\n需求点：\r\n1. 对空间需求不是很大\r\n2. 智驾稳定即可，如果优秀一些就更好了\r\n3. 开车经验不是很足（新手），高性能可能用不太到，但是还是比较喜欢可调悬架\r\n4. 主要用途是单程 10km 左右通勤+一月一次 300km 左右周边游+一年 2-3 次单程 1500km 长途\r\n5. 可租地下车位，但安装不了家充，家周边有充电桩\r\n6. 内饰的舒适性有一定权重", "content_rendered": "<p>打算买辆新能源轿车，预算大约在 30 万元左右。目前在以下五款销量高的车型中纠结，希望大家能提供一些建议或经验分享：</p>\n<ul>\n<li>小米 su7 max</li>\n<li>智界 S7 Max+ 或者 RS</li>\n<li>极氪 001 ME 或者 YOU</li>\n<li>特斯拉 model 3+ 或者 3p</li>\n<li>蔚来 et5 或者 et5t</li>\n</ul>\n<p>需求点：</p>\n<ol>\n<li>对空间需求不是很大</li>\n<li>智驾稳定即可，如果优秀一些就更好了</li>\n<li>开车经验不是很足（新手），高性能可能用不太到，但是还是比较喜欢可调悬架</li>\n<li>主要用途是单程 10km 左右通勤+一月一次 300km 左右周边游+一年 2-3 次单程 1500km 长途</li>\n<li>可租地下车位，但安装不了家充，家周边有充电桩</li>\n<li>内饰的舒适性有一定权重</li>\n</ol>\n", "last_modified": 1732176056, "replies": 58, "id": 1091534}]